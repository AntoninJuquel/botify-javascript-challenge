{"version":3,"sources":["api/utils.js","components/DropdownComponent.js","components/ChartComponent.js","functions/numbers.js","screens/ChartsScreen.js","functions/dates.js","functions/arrays.js","App.js","reportWebVitals.js","index.js"],"names":["BrowseNeo","url","fetch","then","result","json","res","catch","err","DropdownComponent","title","placeholder","itemsDict","onSelectItem","useState","value","setValue","DropdownItems","itemKeys","Object","keys","filter","key","includes","map","i","Dropdown","Item","active","onClick","Toggle","Menu","FormControl","autoFocus","className","onChange","e","target","ChartComponent","format","data","chartTypesArray","chartTypeIndex","setChartTypeIndex","chartTypesDict","setChartTypesDict","useEffect","forEach","chartType","length","width","height","options","chartArea","right","legend","position","hAxis","minValue","vAxis","Spinner","style","top","variant","animation","Container","left","chartTypesKey","indexOf","average","a","b","ChartsScreen","links","next","prev","curr","neo","setData","filters","setFilter","fetchNeo","handleResponse","near_earth_objects","activesFilters","filteredNeo","date","datesArray","closestDate","Date","pop","index","close_approach_data","neoData","close_approach_date","orbiting_body","neoResult","name","estimated_diameter","kilometers","estimated_diameter_min","estimated_diameter_max","sort","descending","zIndex","newFilters","bottom","Button","disabled","App","textAlign","backgroundColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.724f3e7c.chunk.js","sourcesContent":["export function BrowseNeo({ url }) {\r\n    return (\r\n        fetch(url ?? \"https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=Cb7ABiryaKAwR1uQk1Y9C4SlgLt33VdV0wlACoRF\")\r\n            .then(result => result.json())\r\n            .then(res => res)\r\n            .catch(err => err)\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { Dropdown, FormControl } from 'react-bootstrap'\r\n\r\nexport default function DropdownComponent({ title, placeholder, itemsDict, onSelectItem }) {\r\n    const [value, setValue] = useState(\"\")\r\n    const DropdownItems = () => {\r\n        const itemKeys = Object.keys(itemsDict)\r\n        return (\r\n            itemsDict ? itemKeys.filter(key => key.includes(value)).map((key, i) =>\r\n                <Dropdown.Item key={i} active={itemsDict[key]} onClick={() => onSelectItem(key)}>\r\n                    {key}\r\n                </Dropdown.Item>\r\n            ) : null\r\n        )\r\n    }\r\n    return (\r\n        <Dropdown>\r\n            <Dropdown.Toggle>\r\n                {title}\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n                <FormControl\r\n                    autoFocus\r\n                    className=\"mx-3 my-2 w-auto\"\r\n                    placeholder={placeholder}\r\n                    onChange={(e) => setValue(e.target.value)}\r\n                    value={value}\r\n                />\r\n                <DropdownItems />\r\n            </Dropdown.Menu>\r\n        </Dropdown>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Container, Spinner } from 'react-bootstrap'\r\nimport Chart from 'react-google-charts'\r\nimport DropdownComponent from './DropdownComponent'\r\n\r\nexport default function ChartComponent({ format, data, chartTypesArray }) {\r\n    const [chartTypeIndex, setChartTypeIndex] = useState(0)\r\n    const [chartTypesDict, setChartTypesDict] = useState({})\r\n\r\n    const onSelectChartType = (key) => {\r\n        const chartTypesKey = Object.keys(chartTypesDict)\r\n        chartTypesKey.forEach(chartType => chartTypesDict[chartType] = chartType === key)\r\n        setChartTypeIndex(chartTypesKey.indexOf(key))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const chartTypesDict = {}\r\n        chartTypesArray.forEach((chartType, i) => {\r\n            chartTypesDict[chartType] = i === 0\r\n        })\r\n        setChartTypesDict(chartTypesDict)\r\n    }, [chartTypesArray])\r\n\r\n\r\n    return (\r\n        <>\r\n            {data.length > 0 ?\r\n                <Chart\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    chartType={chartTypesArray[chartTypeIndex]}\r\n                    data={[format, ...data]}\r\n                    options={{\r\n                        title: 'Near Earth Objects',\r\n                        chartArea: { height: '70%', width: '80%', right: 0 },\r\n                        legend: { position: \"top\" },\r\n                        hAxis: {\r\n                            title: 'Estimated Diameters (km)',\r\n                            minValue: 0,\r\n                        },\r\n                        vAxis: {\r\n                            title: 'Neo Name',\r\n                        },\r\n                    }}\r\n                /> :\r\n                <Spinner style={{ position: 'absolute', top: '50%' }} variant=\"primary\" animation=\"border\" />}\r\n            <Container style={{ position: 'absolute', top: 0, left: 0 }}>\r\n                <DropdownComponent title=\"Chart type\" itemsDict={chartTypesDict} onSelectItem={onSelectChartType} placeholder=\"Type to search...\" />\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n","export function average(a, b) {\r\n    return (a + b) / 2\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Button, Container } from 'react-bootstrap'\r\nimport { CSVLink } from 'react-csv';\r\n\r\nimport { BrowseNeo } from \"../api\";\r\nimport { ChartComponent, DropdownComponent } from \"../components\";\r\nimport { average, closestDate, descending } from \"../functions\";\r\n\r\nexport default function ChartsScreen() {\r\n    const [data, setData] = useState(\r\n        {\r\n            links: { next: null, prev: null, curr: null },\r\n            format: [\"Neo Name\", \"Min estimated diameters\", \"Max estimated diameters\"],\r\n            neo: []\r\n        }\r\n    )\r\n\r\n    const [filters, setFilter] = useState({\r\n        \"Earth\": false,\r\n        \"Mars\": false,\r\n        \"Merc\": false,\r\n        \"Juptr\": false\r\n    })\r\n\r\n    const selectFilter = (filter) => {\r\n        const newFilters = { ...filters }\r\n        newFilters[filter] = !newFilters[filter]\r\n        setFilter(newFilters)\r\n    }\r\n\r\n    const fetchNeo = (url) => {\r\n        setData({ ...data, neo: [] })\r\n        BrowseNeo({ url }).then(handleResponse)\r\n    }\r\n\r\n    const handleResponse = res => {\r\n        const { near_earth_objects, links } = res\r\n\r\n        const activesFilters = Object.keys(filters).filter(key => filters[key])\r\n\r\n        // Select neo with most recent corresponding orbiting body\r\n        const filteredNeo = near_earth_objects.filter(neo => {\r\n            const date = closestDate(neo.close_approach_data.map(neoData => new Date(neoData.close_approach_date)))\r\n            return activesFilters.includes(neo.close_approach_data[date.index].orbiting_body) || activesFilters.length === 0\r\n        })\r\n\r\n        // Browse pages until you find result\r\n        if (filteredNeo.length === 0 && links.next) {\r\n            fetchNeo(links.next)\r\n            return\r\n        }\r\n        const neoResult = filteredNeo.map(neo => [\r\n            neo.name,\r\n            neo.estimated_diameter.kilometers.estimated_diameter_min,\r\n            neo.estimated_diameter.kilometers.estimated_diameter_max,\r\n        ])\r\n\r\n        neoResult.sort((a, b) => descending(average(a[1], a[2]), average(b[1], b[2])))\r\n\r\n        setData({ ...data, links, neo: neoResult })\r\n    }\r\n\r\n    useEffect(() => {\r\n        BrowseNeo({}).then(handleResponse)\r\n    }, [filters])\r\n\r\n    return (\r\n        <Container style={{ height: \"100%\" }}>\r\n            <Container style={{ position: 'absolute', right: 0, zIndex: 100 }}>\r\n                <DropdownComponent title=\"Orbiting body\" itemsDict={filters} placeholder=\"Type to search...\" onSelectItem={selectFilter} />\r\n            </Container>\r\n            <Container style={{ position: 'absolute', bottom: 0, left: 0, zIndex: 100 }}>\r\n                <Button disabled={!data.links.prev} onClick={() => fetchNeo(data.links.prev)}>{\"<\"}</Button>\r\n                <Button disabled={!data.links.next} onClick={() => fetchNeo(data.links.next)}>{\">\"}</Button>\r\n            </Container>\r\n            <Container style={{ position: 'absolute', bottom: 0, right: 0, zIndex: 100 }}>\r\n                <CSVLink className=\"btn btn-primary\" data={[data.format, ...data.neo]}>Download me</CSVLink>\r\n            </Container>\r\n            <ChartComponent format={data.format} data={data.neo} chartTypesArray={[\"BarChart\", \"Table\"]} />\r\n        </Container>\r\n    )\r\n}\r\n","export function closestDate(datesArray) {\r\n    const beforedates = datesArray.filter(date => date - new Date() < 0)\r\n    const closestDate = beforedates.pop()\r\n    return { date: closestDate, index: datesArray.indexOf(closestDate) }\r\n}\r\n\r\nexport function formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n        month = '0' + month;\r\n    if (day.length < 2)\r\n        day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}","export function ascending(a, b) {\r\n    return a - b\r\n}\r\n\r\nexport function descending(a, b) {\r\n    return b - a\r\n}","import { ChartScreen } from './screens';\r\n\r\nfunction App() {\r\n  return (\r\n    <div style={{ textAlign: 'center', height: \"100%\", backgroundColor: \"#282c34\" }}>\r\n      <ChartScreen />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}