(this["webpackJsonpbotify-javascript-challenge"]=this["webpackJsonpbotify-javascript-challenge"]||[]).push([[0],{33:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),o=(n(33),n(34),n(15)),s=n(8),l=n(7),u=n(49),j=n(28),b=n(22);function d(t){var e=t.url;return fetch(null!==e&&void 0!==e?e:"https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=Cb7ABiryaKAwR1uQk1Y9C4SlgLt33VdV0wlACoRF").then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return t}))}var h=n(48),f=n(23),m=n(50),O=n(51),p=n(2);function x(t){var e=t.title,n=t.placeholder,r=t.itemsDict,c=t.onSelectItem,i=Object(a.useState)(""),o=Object(l.a)(i,2),s=o[0],u=o[1],j=function(){var t=Object.keys(r);return r?t.filter((function(t){return t.includes(s)})).map((function(t,e){return Object(p.jsx)(m.a.Item,{active:r[t],onClick:function(){return c(t)},children:t},e)})):null};return Object(p.jsxs)(m.a,{children:[Object(p.jsx)(m.a.Toggle,{children:e}),Object(p.jsxs)(m.a.Menu,{children:[Object(p.jsx)(O.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:n,onChange:function(t){return u(t.target.value)},value:s}),Object(p.jsx)(j,{})]})]})}function g(t){var e=t.format,n=t.data,r=t.chartTypesArray,c=Object(a.useState)(0),i=Object(l.a)(c,2),s=i[0],j=i[1],b=Object(a.useState)({}),d=Object(l.a)(b,2),m=d[0],O=d[1];return Object(a.useEffect)((function(){var t={};r.forEach((function(e,n){t[e]=0===n})),O(t)}),[r]),Object(p.jsxs)(p.Fragment,{children:[n.length>0?Object(p.jsx)(f.a,{width:"100%",height:"100%",chartType:r[s],data:[e].concat(Object(o.a)(n)),options:{title:"Near Earth Objects",chartArea:{height:"70%",width:"80%",right:0},legend:{position:"top"},hAxis:{title:"Estimated Diameters (km)",minValue:0},vAxis:{title:"Neo Name"}}}):Object(p.jsx)(h.a,{style:{position:"absolute",top:"50%"},variant:"primary",animation:"border"}),Object(p.jsx)(u.a,{style:{position:"absolute",top:0,left:0},children:Object(p.jsx)(x,{title:"Chart type",itemsDict:m,onSelectItem:function(t){var e=Object.keys(m);e.forEach((function(e){return m[e]=e===t})),j(e.indexOf(t))},placeholder:"Type to search..."})})]})}function v(t,e){return(t+e)/2}function y(){var t=Object(a.useState)({links:{next:null,prev:null,curr:null},format:["Neo Name","Min estimated diameters","Max estimated diameters"],neo:[]}),e=Object(l.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)({Earth:!1,Mars:!1,Merc:!1,Juptr:!1}),i=Object(l.a)(c,2),h=i[0],f=i[1],m=function(t){r(Object(s.a)(Object(s.a)({},n),{},{neo:[]})),d({url:t}).then(O)},O=function(t){var e=t.near_earth_objects,a=t.links,c=Object.keys(h).filter((function(t){return h[t]})),i=e.filter((function(t){var e=function(t){var e=t.filter((function(t){return t-new Date<0})).pop();return{date:e,index:t.indexOf(e)}}(t.close_approach_data.map((function(t){return new Date(t.close_approach_date)})));return c.includes(t.close_approach_data[e.index].orbiting_body)||0===c.length}));if(0===i.length&&a.next)m(a.next);else{var o=i.map((function(t){return[t.name,t.estimated_diameter.kilometers.estimated_diameter_min,t.estimated_diameter.kilometers.estimated_diameter_max]}));o.sort((function(t,e){return function(t,e){return e-t}(v(t[1],t[2]),v(e[1],e[2]))})),r(Object(s.a)(Object(s.a)({},n),{},{links:a,neo:o}))}};return Object(a.useEffect)((function(){d({}).then(O)}),[h]),Object(p.jsxs)(u.a,{style:{height:"100%"},children:[Object(p.jsx)(u.a,{style:{position:"absolute",right:0,zIndex:100},children:Object(p.jsx)(x,{title:"Orbiting body",itemsDict:h,placeholder:"Type to search...",onSelectItem:function(t){var e=Object(s.a)({},h);e[t]=!e[t],f(e)}})}),Object(p.jsxs)(u.a,{style:{position:"absolute",bottom:0,left:0,zIndex:100},children:[Object(p.jsx)(j.a,{disabled:!n.links.prev,onClick:function(){return m(n.links.prev)},children:"<"}),Object(p.jsx)(j.a,{disabled:!n.links.next,onClick:function(){return m(n.links.next)},children:">"})]}),Object(p.jsx)(u.a,{style:{position:"absolute",bottom:0,right:0,zIndex:100},children:Object(p.jsx)(b.CSVLink,{className:"btn btn-primary",data:[n.format].concat(Object(o.a)(n.neo)),children:"Download me"})}),Object(p.jsx)(g,{format:n.format,data:n.neo,chartTypesArray:["BarChart","Table"]})]})}var k=function(){return Object(p.jsx)("div",{style:{textAlign:"center",height:"100%",backgroundColor:"#282c34"},children:Object(p.jsx)(y,{})})},_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),_()}},[[44,1,2]]]);
//# sourceMappingURL=main.724f3e7c.chunk.js.map