(this["webpackJsonpbotify-javascript-challenge"]=this["webpackJsonpbotify-javascript-challenge"]||[]).push([[0],{33:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(13),c=n.n(i),o=(n(33),n(34),n(15)),s=n(8),l=n(7),u=n(48),j=n(25),d=n(22);function b(t){var e=t.url;return fetch(null!==e&&void 0!==e?e:"https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=Cb7ABiryaKAwR1uQk1Y9C4SlgLt33VdV0wlACoRF").then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return t}))}var h=n(23),f=n(2);function m(t){var e=t.format,n=t.data,a=t.chartTypesArray,i=Object(r.useState)(0),c=Object(l.a)(i,2),s=c[0],d=c[1];return Object(f.jsxs)(f.Fragment,{children:[n.length>0?Object(f.jsx)(h.a,{width:"100%",height:"100%",chartType:a[s],data:[e].concat(Object(o.a)(n)),options:{title:"Near Earth Objects",chartArea:{height:"70%",width:"80%",right:0},legend:{position:"top"},hAxis:{title:"Estimated Diameters (km)",minValue:0},vAxis:{title:"Neo Name"}}}):null,Object(f.jsx)(u.a,{style:{position:"absolute",top:0,left:0},children:a.map((function(t,e){return Object(f.jsx)(j.a,{onClick:function(){return d(e)},children:t},e)}))})]})}var O=n(49),p=n(50);function x(t){var e=t.title,n=t.placeholder,a=t.itemsDict,i=t.onSelectItem,c=Object(r.useState)(""),o=Object(l.a)(c,2),s=o[0],u=o[1],j=function(){var t=Object.keys(a);return a?t.filter((function(t){return t.includes(s)})).map((function(t,e){return Object(f.jsx)(O.a.Item,{active:a[t],onClick:function(){return i(t)},children:t},e)})):null};return Object(f.jsxs)(O.a,{children:[Object(f.jsx)(O.a.Toggle,{children:e}),Object(f.jsxs)(O.a.Menu,{children:[Object(f.jsx)(p.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:n,onChange:function(t){return u(t.target.value)},value:s}),Object(f.jsx)(j,{})]})]})}function g(t,e){return(t+e)/2}function v(){var t=Object(r.useState)({links:{next:null,prev:null,curr:null},neo:[],format:["Neo Name","Min estimated diameters","Max estimated diameters"]}),e=Object(l.a)(t,2),n=e[0],a=e[1],i=Object(r.useState)({Earth:!1,Mars:!1,Merc:!1,Juptr:!1}),c=Object(l.a)(i,2),h=c[0],O=c[1],p=function(t){a(Object(s.a)(Object(s.a)({},n),{},{neo:[]})),b({url:t}).then(v)},v=function(t){var e=t.near_earth_objects,r=t.links,i=Object.keys(h).filter((function(t){return h[t]})),c=e.filter((function(t){var e=function(t){var e=t.filter((function(t){return t-new Date<0})).pop();return{date:e,index:t.indexOf(e)}}(t.close_approach_data.map((function(t){return new Date(t.close_approach_date)})));return i.includes(t.close_approach_data[e.index].orbiting_body)||0===i.length}));if(0===c.length&&r.next)p(r.next);else{var o=c.map((function(t){return[t.name,t.estimated_diameter.kilometers.estimated_diameter_min,t.estimated_diameter.kilometers.estimated_diameter_max]}));o.sort((function(t,e){return function(t,e){return e-t}(g(t[1],t[2]),g(e[1],e[2]))})),a(Object(s.a)(Object(s.a)({},n),{},{links:r,neo:o}))}};return Object(r.useEffect)((function(){b({}).then(v)}),[h]),Object(f.jsxs)(u.a,{style:{height:"100%"},children:[Object(f.jsx)(u.a,{style:{position:"absolute",right:0,zIndex:100},children:Object(f.jsx)(x,{title:"Orbiting body",itemsDict:h,placeholder:"Type to search...",onSelectItem:function(t){var e=Object(s.a)({},h);e[t]=!e[t],O(e)}})}),Object(f.jsxs)(u.a,{style:{position:"absolute",bottom:0,left:0,zIndex:100},children:[Object(f.jsx)(j.a,{disabled:!n.links.prev,onClick:function(){return p(n.links.prev)},children:"<"}),Object(f.jsx)(j.a,{disabled:!n.links.next,onClick:function(){return p(n.links.next)},children:">"})]}),Object(f.jsx)(u.a,{style:{position:"absolute",bottom:0,right:0,zIndex:100},children:Object(f.jsx)(d.CSVLink,{className:"btn btn-primary",data:[n.format].concat(Object(o.a)(n.neo)),children:"Download me"})}),Object(f.jsx)(m,{format:n.format,data:n.neo,chartTypesArray:["BarChart","Table"]})]})}var y=function(){return Object(f.jsx)("div",{style:{textAlign:"center",height:"100%",backgroundColor:"#282c34"},children:Object(f.jsx)(v,{})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),i(t),c(t)}))};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root")),k()}},[[44,1,2]]]);
//# sourceMappingURL=main.a2bc4552.chunk.js.map