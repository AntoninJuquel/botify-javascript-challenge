{"version":3,"sources":["api/utils.js","components/ChartComponent.js","components/DropdownComponent.js","functions/numbers.js","screens/ChartsScreen.js","functions/dates.js","functions/arrays.js","App.js","reportWebVitals.js","index.js"],"names":["BrowseNeo","url","fetch","then","result","json","res","catch","err","ChartComponent","format","data","chartTypesArray","useState","chartTypeIndex","setChartTypeIndex","length","width","height","chartType","options","title","chartArea","right","legend","position","hAxis","minValue","vAxis","Container","style","top","left","map","i","Button","onClick","DropdownComponent","placeholder","itemsDict","onSelectItem","value","setValue","DropdownItems","itemKeys","Object","keys","filter","key","includes","Dropdown","Item","active","Toggle","Menu","FormControl","autoFocus","className","onChange","e","target","average","a","b","ChartsScreen","links","next","prev","curr","neo","setData","filters","setFilter","fetchNeo","handleResponse","near_earth_objects","activesFilters","filteredNeo","date","datesArray","closestDate","Date","pop","index","indexOf","close_approach_data","neoData","close_approach_date","orbiting_body","neoResult","name","estimated_diameter","kilometers","estimated_diameter_min","estimated_diameter_max","sort","descending","useEffect","zIndex","newFilters","bottom","disabled","App","textAlign","backgroundColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2bc4552.chunk.js","sourcesContent":["export function BrowseNeo({ url }) {\r\n    return (\r\n        fetch(url ?? \"https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=Cb7ABiryaKAwR1uQk1Y9C4SlgLt33VdV0wlACoRF\")\r\n            .then(result => result.json())\r\n            .then(res => res)\r\n            .catch(err => err)\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { Button, Container } from 'react-bootstrap'\r\nimport Chart from 'react-google-charts'\r\n\r\nexport default function ChartComponent({ format, data, chartTypesArray }) {\r\n    const [chartTypeIndex, setChartTypeIndex] = useState(0)\r\n    return (\r\n        <>\r\n            {data.length > 0 ?\r\n                <Chart\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    chartType={chartTypesArray[chartTypeIndex]}\r\n                    data={[format, ...data]}\r\n                    options={{\r\n                        title: 'Near Earth Objects',\r\n                        chartArea: { height: '70%', width: '80%', right: 0 },\r\n                        legend: { position: \"top\" },\r\n                        hAxis: {\r\n                            title: 'Estimated Diameters (km)',\r\n                            minValue: 0,\r\n                        },\r\n                        vAxis: {\r\n                            title: 'Neo Name',\r\n                        },\r\n                    }}\r\n                /> : null}\r\n            <Container style={{ position: 'absolute', top: 0, left: 0 }}>\r\n                {chartTypesArray.map((chartType, i) => <Button key={i} onClick={() => setChartTypeIndex(i)}>{chartType}</Button>)}\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Dropdown, FormControl } from 'react-bootstrap'\r\n\r\nexport default function DropdownComponent({ title, placeholder, itemsDict, onSelectItem }) {\r\n    const [value, setValue] = useState(\"\")\r\n    const DropdownItems = () => {\r\n        const itemKeys = Object.keys(itemsDict)\r\n        return (\r\n            itemsDict ? itemKeys.filter(key => key.includes(value)).map((key, i) =>\r\n                <Dropdown.Item key={i} active={itemsDict[key]} onClick={() => onSelectItem(key)}>\r\n                    {key}\r\n                </Dropdown.Item>\r\n            ) : null\r\n        )\r\n    }\r\n    return (\r\n        <Dropdown>\r\n            <Dropdown.Toggle>\r\n                {title}\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n                <FormControl\r\n                    autoFocus\r\n                    className=\"mx-3 my-2 w-auto\"\r\n                    placeholder={placeholder}\r\n                    onChange={(e) => setValue(e.target.value)}\r\n                    value={value}\r\n                />\r\n                <DropdownItems />\r\n            </Dropdown.Menu>\r\n        </Dropdown>\r\n    )\r\n}\r\n","export function average(a, b) {\r\n    return (a + b) / 2\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Button, Container } from 'react-bootstrap'\r\nimport { CSVLink } from 'react-csv';\r\n\r\nimport { BrowseNeo } from \"../api\";\r\nimport { ChartComponent, DropdownComponent } from \"../components\";\r\nimport { average, closestDate, descending } from \"../functions\";\r\n\r\nexport default function ChartsScreen() {\r\n    const [data, setData] = useState({ links: { next: null, prev: null, curr: null }, neo: [], format: [\"Neo Name\", \"Min estimated diameters\", \"Max estimated diameters\"] })\r\n\r\n    const [filters, setFilter] = useState({\r\n        \"Earth\": false,\r\n        \"Mars\": false,\r\n        \"Merc\": false,\r\n        \"Juptr\": false\r\n    })\r\n\r\n    const selectFilter = (filter) => {\r\n        const newFilters = { ...filters }\r\n        newFilters[filter] = !newFilters[filter]\r\n        setFilter(newFilters)\r\n    }\r\n\r\n    const fetchNeo = (url) => {\r\n        setData({ ...data, neo: [] })\r\n        BrowseNeo({ url }).then(handleResponse)\r\n    }\r\n\r\n    const handleResponse = res => {\r\n        const { near_earth_objects, links } = res\r\n\r\n        const activesFilters = Object.keys(filters).filter(key => filters[key])\r\n\r\n        // Select neo with most recent corresponding orbiting body\r\n        const filteredNeo = near_earth_objects.filter(neo => {\r\n            const date = closestDate(neo.close_approach_data.map(neoData => new Date(neoData.close_approach_date)))\r\n            return activesFilters.includes(neo.close_approach_data[date.index].orbiting_body) || activesFilters.length === 0\r\n        })\r\n\r\n        // Browse pages until you find result\r\n        if (filteredNeo.length === 0 && links.next) {\r\n            fetchNeo(links.next)\r\n            return\r\n        }\r\n        const neoResult = filteredNeo.map(neo => [\r\n            neo.name,\r\n            neo.estimated_diameter.kilometers.estimated_diameter_min,\r\n            neo.estimated_diameter.kilometers.estimated_diameter_max,\r\n        ])\r\n\r\n        neoResult.sort((a, b) => descending(average(a[1], a[2]), average(b[1], b[2])))\r\n\r\n        setData({ ...data, links, neo: neoResult })\r\n    }\r\n\r\n    useEffect(() => {\r\n        BrowseNeo({}).then(handleResponse)\r\n    }, [filters])\r\n\r\n    return (\r\n        <Container style={{ height: \"100%\" }}>\r\n            <Container style={{ position: 'absolute', right: 0, zIndex: 100 }}>\r\n                <DropdownComponent title=\"Orbiting body\" itemsDict={filters} placeholder=\"Type to search...\" onSelectItem={selectFilter} />\r\n            </Container>\r\n            <Container style={{ position: 'absolute', bottom: 0, left: 0, zIndex: 100 }}>\r\n                <Button disabled={!data.links.prev} onClick={() => fetchNeo(data.links.prev)}>{\"<\"}</Button>\r\n                <Button disabled={!data.links.next} onClick={() => fetchNeo(data.links.next)}>{\">\"}</Button>\r\n            </Container>\r\n            <Container style={{ position: 'absolute', bottom: 0, right: 0, zIndex: 100 }}>\r\n                <CSVLink className=\"btn btn-primary\" data={[data.format, ...data.neo]}>Download me</CSVLink>\r\n            </Container>\r\n            <ChartComponent format={data.format} data={data.neo} chartTypesArray={[\"BarChart\", \"Table\"]} />\r\n        </Container>\r\n    )\r\n}\r\n","export function closestDate(datesArray) {\r\n    const beforedates = datesArray.filter(date => date - new Date() < 0)\r\n    const closestDate = beforedates.pop()\r\n    return { date: closestDate, index: datesArray.indexOf(closestDate) }\r\n}\r\n\r\nexport function formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n        month = '0' + month;\r\n    if (day.length < 2)\r\n        day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}","export function ascending(a, b) {\r\n    return a - b\r\n}\r\n\r\nexport function descending(a, b) {\r\n    return b - a\r\n}","import { ChartScreen } from './screens';\r\n\r\nfunction App() {\r\n  return (\r\n    <div style={{ textAlign: 'center', height: \"100%\", backgroundColor: \"#282c34\" }}>\r\n      <ChartScreen />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}